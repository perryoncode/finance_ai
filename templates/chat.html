{% extends "base.html" %}
{% block title %}Chat Â· Finance AI{% endblock %}
{% block content %}
<h1>Finance AI Chat</h1>
<div id="chat">
  <!-- <div id="chat-controls">
    <div class="timeframe-selector">
      <label for="timeframe">Analyze data from last:</label>
      <select id="timeframe">
        <option value="30">30 days</option>
        <option value="90">90 days</option>
        <option value="180">6 months</option>
        <option value="365">1 year</option>
        <option value="1095">3 years</option>
      </select>
    </div>
  </div> -->
  
  <div id="chat-output">
    <div class="ai-message"><strong>Finance AI:</strong> Hello! I can help you analyze your financial data. What would you like to know about your spending, income, or budgets?
    </div>
  <div class="chat-input-container">
    <textarea id="chat-input" rows="1" placeholder="Type your question..."></textarea>
    <button id="chat-send">Send</button>
  </div>
</div>

<style>
#chat {
  display: flex;
  flex-direction: column;
  height: 80vh;
  max-height: 700px;
  border: 1px solid #ddd;
  border-radius: 8px;
  overflow: hidden;
}

#chat-controls {
  padding: 10px;
  background-color: #f9faff;
  border-bottom: 1px solid #ddd;
}

#chat-output {
  flex: 1;
  overflow-y: auto;
  padding: 15px;
  padding-bottom: 13vh;
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.user-message, .ai-message {
  padding: 10px 15px;
  border-radius: 18px;
  max-width: 80%;
  word-wrap: break-word;
}

.user-message {
  align-self: flex-end;
  background-color: #007bff;
  color: white;
}

.ai-message {
  align-self: flex-start;
  background-color: #f0f0f0;
}

.chat-input-container {
  display: flex;
  padding: 10px;
  border-top: 1px solid #ddd;
  background: #f9f9f9;
  border-radius: 15px;
}

#chat-input {
  flex: 1;
  resize: none;
  padding: 10px;
  border: 1px solid #ddd;
  width: 74vw;
  border-radius: 10px;
  margin-right: 10px;
}

#chat-send {
  background-color: #007bff;
  color: white;
  border: none;
  border-radius: 4px;
  padding: 0 20px;
  cursor: pointer;
}

.typing-indicator {
  display: inline-block;
  animation: blinking 1s infinite;
}

@keyframes blinking {
  0% { opacity: 0.6; }
  50% { opacity: 1; }
  100% { opacity: 0.6; }
}

ul {
  margin-top: 5px;
  padding-left: 20px;
}
</style>
{% endblock %}
